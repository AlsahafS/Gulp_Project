"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}var card=document.getElementsByClassName("card"),cards=_toConsumableArray(card),openCard=[],deck=document.querySelector(".deck"),firstIcon="",secondIcon="",matchedCards=[],moves=0,counter=document.querySelector(".moves"),second=0,minute=0;hour=0;var interval,timer=document.querySelector(".timer"),modal=document.getElementById("myModal"),modalCloseBtn=document.querySelector(".modalClose"),modalReplayBtn=document.querySelector(".modalReplay"),modalTime=document.querySelector(".modalTime"),modalRating=document.querySelector(".rating"),modalMoves=document.querySelector(".modalMoves");modalCloseBtn.addEventListener("click",colseModal);var starsContainer=document.querySelector(".stars"),star='<li><i class="fa fa-star"></i></li>';function shuffle(e){for(var n,t,r=e.length;0!==r;)t=Math.floor(Math.random()*r),n=e[r-=1],e[r]=e[t],e[t]=n;return e}function startGame(){cards=shuffle(cards);for(var e=0;e<cards.length;e++)cards[e].addEventListener("click",displayCards);for(e=0;e<cards.length;e++)deck.innerHTML="",[].forEach.call(cards,function(e){deck.appendChild(e)}),cards[e].classList.remove("show","open","match","unmatch");moves=0,counter.innerHTML=moves,starsContainer.innerHTML=star+star+star,hour=minute=second=0,timer.innerHTML=hour+":"+minute+":"+second,clearInterval(interval)}function displayCards(){this.classList.contains("open")||(this.classList.toggle("open"),this.classList.toggle("show"),""==firstIcon?(openCard.push(this),firstIcon=openCard[0].querySelector("i").className):""!=firstIcon&&(openCard.push(this),secondIcon=openCard[1].querySelector("i").className,firstIcon==secondIcon?(openCard[0].classList.add("match"),openCard[1].classList.add("match"),openCard[0].removeEventListener("click",displayCards),openCard[1].removeEventListener("click",displayCards),console.log("match"),secondIcon=firstIcon="",openCard=[],congrats()):firstIcon!=secondIcon&&(openCard[0].classList.add("unmatch"),openCard[1].classList.add("unmatch"),secondIcon=firstIcon="",setTimeout(function(){openCard[0].classList.remove("show","open","unmatched"),openCard[1].classList.remove("show","open","unmatched"),openCard=[]},600),addMove())))}function addMove(){moves++,1==(counter.innerHTML=moves)&&startTimer(),rating()}function startTimer(){interval=setInterval(function(){timer.innerHTML=hour+":"+minute+":"+second,60==++second&&(minute++,second=0),60==minute&&(hour++,minute=0)},500)}function rating(){starsContainer.innerHTML=moves<15?star+star+star:moves<20?star+star:star}function congrats(){16===matchedCards.length&&(openModal(),clearInterval(interval))}function openModal(){modalTime.innerHTML=hour+":"+minute+":"+second,modalMoves.innerHTML=moves;var e=document.querySelector(".stars").innerHTML;modalRating.innerHTML=e,modalReplayBtn.addEventListener("click",replyGame),modal.style.display="block"}function replyGame(){colseModal(),startGame()}function colseModal(){modal.style.display="none"}startGame(),counter.innerHTML=0,starsContainer.innerHTML=star+star+star,matchedCards=document.getElementsByClassName("match");